import{c as C,a as I,j as t,F as A,d as O,L as $,H as R}from"./app-B8a5mCKR.js";import{q as j,d as U,B as v}from"./app-logo-icon-Ch3PaEPk.js";import{H as P,S as V}from"./layout-B8vKzg9z.js";import{I as Q}from"./input-error-BxF260Ma.js";import{f as z,e as B,d as W,g as Y,D as G,b as J,c as K}from"./dialog-D4YY7oE5.js";import{I as S}from"./input-_ZqAe6Lv.js";import{L as D}from"./label-CKCvWhvW.js";import{A as M,n as X}from"./app-layout-mZ7hR956.js";import{z as Z}from"./transition-BeygYvoQ.js";/* empty css            */import"./index-CXVd6U4Y.js";import"./index-DBGJ69O_.js";import"./index-Daswyek_.js";const o=e=>({url:o.url(e),method:"get"});o.definition={methods:["get","head"],url:"/settings/profile"};o.url=e=>o.definition.url+j(e);o.get=e=>({url:o.url(e),method:"get"});o.head=e=>({url:o.url(e),method:"head"});const q=e=>({action:o.url(e),method:"get"});q.get=e=>({action:o.url(e),method:"get"});q.head=e=>({action:o.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});o.form=q;const m=e=>({url:m.url(e),method:"patch"});m.definition={methods:["patch"],url:"/settings/profile"};m.url=e=>m.definition.url+j(e);m.patch=e=>({url:m.url(e),method:"patch"});const k=e=>({action:m.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});k.patch=e=>({action:m.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});m.form=k;const u=e=>({url:u.url(e),method:"delete"});u.definition={methods:["delete"],url:"/settings/profile"};u.url=e=>u.definition.url+j(e);u.delete=e=>({url:u.url(e),method:"delete"});const H=e=>({action:u.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});H.delete=e=>({action:u.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});u.form=H;const L={update:m,destroy:u},a=e=>({url:a.url(e),method:"get"});a.definition={methods:["get","head"],url:"/email/verify"};a.url=e=>a.definition.url+j(e);a.get=e=>({url:a.url(e),method:"get"});a.head=e=>({url:a.url(e),method:"head"});const w=e=>({action:a.url(e),method:"get"});w.get=e=>({action:a.url(e),method:"get"});w.head=e=>({action:a.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});a.form=w;const l=(e,r)=>({url:l.url(e,r),method:"get"});l.definition={methods:["get","head"],url:"/email/verify/{id}/{hash}"};l.url=(e,r)=>{Array.isArray(e)&&(e={id:e[0],hash:e[1]}),e=U(e);const n={id:e.id,hash:e.hash};return l.definition.url.replace("{id}",n.id.toString()).replace("{hash}",n.hash.toString()).replace(/\/+$/,"")+j(r)};l.get=(e,r)=>({url:l.url(e,r),method:"get"});l.head=(e,r)=>({url:l.url(e,r),method:"head"});const E=(e,r)=>({action:l.url(e,r),method:"get"});E.get=(e,r)=>({action:l.url(e,r),method:"get"});E.head=(e,r)=>({action:l.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...r?.query??r?.mergeQuery??{}}}),method:"get"});l.form=E;const i=e=>({url:i.url(e),method:"post"});i.definition={methods:["post"],url:"/email/verification-notification"};i.url=e=>i.definition.url+j(e);i.post=e=>({url:i.url(e),method:"post"});const T=e=>({action:i.url(e),method:"post"});T.post=e=>({action:i.url(e),method:"post"});i.form=T;Object.assign(a,a),Object.assign(l,l),Object.assign(i,i);function ee(){const e=C.c(9),r=I.useRef(null);let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx(P,{title:"Delete account",description:"Delete your account and all of its resources"}),e[0]=n):n=e[0];let g;e[1]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsxs("div",{className:"relative space-y-0.5 text-red-600 dark:text-red-100",children:[t.jsx("p",{className:"font-medium",children:"Warning"}),t.jsx("p",{className:"text-sm",children:"Please proceed with caution, this cannot be undone."})]}),e[1]=g):g=e[1];let s;e[2]===Symbol.for("react.memo_cache_sentinel")?(s=t.jsx(G,{asChild:!0,children:t.jsx(v,{variant:"destructive","data-test":"delete-user-button",children:"Delete account"})}),e[2]=s):s=e[2];let c,h;e[3]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsx(J,{children:"Are you sure you want to delete your account?"}),h=t.jsx(K,{children:"Once your account is deleted, all of its resources and data will also be permanently deleted. Please enter your password to confirm you would like to permanently delete your account."}),e[3]=c,e[4]=h):(c=e[3],h=e[4]);let f,p,d;e[5]===Symbol.for("react.memo_cache_sentinel")?(f=L.destroy.form(),p={preserveScroll:!0},d=()=>r.current?.focus(),e[5]=f,e[6]=p,e[7]=d):(f=e[5],p=e[6],d=e[7]);let y;return e[8]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsxs("div",{className:"space-y-6",children:[n,t.jsxs("div",{className:"space-y-4 rounded-lg border border-red-100 bg-red-50 p-4 dark:border-red-200/10 dark:bg-red-700/10",children:[g,t.jsxs(z,{children:[s,t.jsxs(B,{children:[c,h,t.jsx(A,{...f,options:p,onError:d,resetOnSuccess:!0,className:"space-y-6",children:x=>{const{resetAndClearErrors:_,processing:b,errors:N}=x;return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid gap-2",children:[t.jsx(D,{htmlFor:"password",className:"sr-only",children:"Password"}),t.jsx(S,{id:"password",type:"password",name:"password",ref:r,placeholder:"Password",autoComplete:"current-password"}),t.jsx(Q,{message:N.password})]}),t.jsxs(W,{className:"gap-2",children:[t.jsx(Y,{asChild:!0,children:t.jsx(v,{variant:"secondary",onClick:()=>_(),children:"Cancel"})}),t.jsx(v,{variant:"destructive",disabled:b,asChild:!0,children:t.jsx("button",{type:"submit","data-test":"confirm-delete-user-button",children:"Delete account"})})]})]})}})]})]})]})]}),e[8]=y):y=e[8],y}const re=[{title:"Profile settings",href:X().url}];function pe(e){const r=C.c(13),{mustVerifyEmail:n,status:g}=e,{auth:s}=O().props;let c;r[0]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsx(R,{title:"Profile settings"}),r[0]=c):c=r[0];let h;r[1]===Symbol.for("react.memo_cache_sentinel")?(h=t.jsx(P,{title:"Profile information",description:"Update your name and email address"}),r[1]=h):h=r[1];let f,p;r[2]===Symbol.for("react.memo_cache_sentinel")?(f=L.update.form(),p={preserveScroll:!0},r[2]=f,r[3]=p):(f=r[2],p=r[3]);let d;r[4]!==s.user.email||r[5]!==s.user.email_verified_at||r[6]!==s.user.name||r[7]!==n||r[8]!==g?(d=t.jsxs("div",{className:"space-y-6",children:[h,t.jsx(A,{...f,options:p,className:"space-y-6",children:_=>{const{processing:b,recentlySuccessful:N,errors:F}=_;return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid gap-2",children:[t.jsx(D,{htmlFor:"name",children:"Name"}),t.jsx(S,{id:"name",className:"mt-1 block w-full",defaultValue:s.user.name,name:"name",required:!0,autoComplete:"name",placeholder:"Full name"}),t.jsx(Q,{className:"mt-2",message:F.name})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(D,{htmlFor:"email",children:"Email address"}),t.jsx(S,{id:"email",type:"email",className:"mt-1 block w-full",defaultValue:s.user.email,name:"email",required:!0,autoComplete:"username",placeholder:"Email address"}),t.jsx(Q,{className:"mt-2",message:F.email})]}),n&&s.user.email_verified_at===null&&t.jsxs("div",{children:[t.jsxs("p",{className:"-mt-4 text-sm text-muted-foreground",children:["Your email address is unverified."," ",t.jsx($,{href:i(),as:"button",className:"text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500",children:"Click here to resend the verification email."})]}),g==="verification-link-sent"&&t.jsx("div",{className:"mt-2 text-sm font-medium text-green-600",children:"A new verification link has been sent to your email address."})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(v,{disabled:b,"data-test":"update-profile-button",children:"Save"}),t.jsx(Z,{show:N,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:t.jsx("p",{className:"text-sm text-neutral-600",children:"Saved"})})]})]})}})]}),r[4]=s.user.email,r[5]=s.user.email_verified_at,r[6]=s.user.name,r[7]=n,r[8]=g,r[9]=d):d=r[9];let y;r[10]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsx(ee,{}),r[10]=y):y=r[10];let x;return r[11]!==d?(x=t.jsxs(M,{breadcrumbs:re,children:[c,t.jsxs(V,{children:[d,y]})]}),r[11]=d,r[12]=x):x=r[12],x}export{pe as default};
