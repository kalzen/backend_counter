import{c as Et,a as Kt,u as Pt,j as t,H as Rt,L as Ut}from"./app-B8a5mCKR.js";import{G as Mt,T as Qt,A as zt,a as Jt,b as Wt}from"./app-layout-mZ7hR956.js";import{B as qe}from"./badge-CkdsnO1T.js";import{C as Be,a as Fe,c as Ve,d as Le,b as Xt}from"./card-C5ye0D05.js";import{T as Vt,a as f,b as Yt,c as Ae,d as Zt,e as es}from"./table-BONrsK95.js";import{B as Ft}from"./app-logo-icon-Ch3PaEPk.js";import{I as m}from"./input-_ZqAe6Lv.js";import{L as o}from"./label-CKCvWhvW.js";import{S as Lt,T as ts,a as qt,b as It,c as Gt,d as ke}from"./select-CrGcmwJW.js";import{D as ss,a as ls,b as as,c as ns,d as is,e as rs,f as cs}from"./dialog-D4YY7oE5.js";import{P as os,U as ds}from"./users-CDNtPpSg.js";/* empty css            */import"./index-Daswyek_.js";import"./index-CXVd6U4Y.js";import"./index-nawzRzeY.js";import"./check-CONWE1Es.js";const Ot=n=>n.replace(/&laquo;/g,"«").replace(/&raquo;/g,"»").replace(/&nbsp;/g," "),hs=n=>n?new Date(n).toLocaleString("vi-VN"):"—",ms={A:"Nhóm A • ≥16 tuổi • Có biển số • Hợp lệ",B:"Nhóm B • <16 tuổi • Có biển số • Vi phạm",C:"Nhóm C • <16 tuổi • Không biển số • Hợp lệ"};function Bs(n){const e=Et.c(234),{students:c,summary:r}=n;let Ie;e[0]!==c?(Ie=Array.isArray(c?.data)?c.data:[],e[0]=c,e[1]=Ie):Ie=e[1];const d=Ie;let Ge;e[2]!==c?(Ge=Array.isArray(c?.links)?c.links:[],e[2]=c,e[3]=Ge):Ge=e[3];const Oe=Ge,h=c?.meta,[jt,vt]=Kt.useState(!1);let $e;e[4]===Symbol.for("react.memo_cache_sentinel")?($e={student_code:"",full_name:"",class_name:"",birth_date:"",gender:"",contact_phone:"",guardian_name:"",guardian_phone:"",notes:"",scenario_group:"",enrolled_at:""},e[4]=$e):$e=e[4];const{data:l,setData:a,post:bt,processing:x,errors:s,reset:u}=Pt($e);let Ee;e[5]!==bt||e[6]!==u?(Ee=i=>{i.preventDefault(),bt(route("students.store"),{onSuccess:()=>{vt(!1),u()}})},e[5]=bt,e[6]=u,e[7]=Ee):Ee=e[7];const Nt=Ee;let Ke;e[8]===Symbol.for("react.memo_cache_sentinel")?(Ke=t.jsx(Rt,{title:"Quản lý học sinh"}),e[8]=Ke):Ke=e[8];let Pe;e[9]===Symbol.for("react.memo_cache_sentinel")?(Pe=t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Quản lý học sinh"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Danh sách hồ sơ học sinh, trạng thái quẹt thẻ và phân nhóm theo kịch bản kiểm thử."})]}),e[9]=Pe):Pe=e[9];let Re;e[10]===Symbol.for("react.memo_cache_sentinel")?(Re=t.jsx(ss,{asChild:!0,children:t.jsxs(Ft,{children:[t.jsx(os,{className:"mr-2 h-4 w-4"}),"Thêm học sinh"]})}),e[10]=Re):Re=e[10];let Ue;e[11]===Symbol.for("react.memo_cache_sentinel")?(Ue=t.jsxs(ls,{children:[t.jsx(as,{children:"Thêm học sinh mới"}),t.jsx(ns,{children:"Điền thông tin học sinh vào form bên dưới. Các trường có dấu * là bắt buộc."})]}),e[11]=Ue):Ue=e[11];let Me;e[12]===Symbol.for("react.memo_cache_sentinel")?(Me=t.jsxs(o,{htmlFor:"student_code",children:["Mã học sinh ",t.jsx("span",{className:"text-destructive",children:"*"})]}),e[12]=Me):Me=e[12];let _;e[13]!==a?(_=i=>a("student_code",i.target.value),e[13]=a,e[14]=_):_=e[14];const yt=s.student_code?"true":"false";let p;e[15]!==l.student_code||e[16]!==_||e[17]!==yt?(p=t.jsx(m,{id:"student_code",value:l.student_code,onChange:_,placeholder:"VD: HS001",required:!0,"aria-invalid":yt}),e[15]=l.student_code,e[16]=_,e[17]=yt,e[18]=p):p=e[18];let g;e[19]!==s.student_code?(g=s.student_code&&t.jsx("p",{className:"text-sm text-destructive",children:s.student_code}),e[19]=s.student_code,e[20]=g):g=e[20];let j;e[21]!==p||e[22]!==g?(j=t.jsxs("div",{className:"space-y-2",children:[Me,p,g]}),e[21]=p,e[22]=g,e[23]=j):j=e[23];let Qe;e[24]===Symbol.for("react.memo_cache_sentinel")?(Qe=t.jsxs(o,{htmlFor:"full_name",children:["Họ và tên ",t.jsx("span",{className:"text-destructive",children:"*"})]}),e[24]=Qe):Qe=e[24];let v;e[25]!==a?(v=i=>a("full_name",i.target.value),e[25]=a,e[26]=v):v=e[26];const St=s.full_name?"true":"false";let b;e[27]!==l.full_name||e[28]!==v||e[29]!==St?(b=t.jsx(m,{id:"full_name",value:l.full_name,onChange:v,placeholder:"VD: Nguyễn Văn A",required:!0,"aria-invalid":St}),e[27]=l.full_name,e[28]=v,e[29]=St,e[30]=b):b=e[30];let N;e[31]!==s.full_name?(N=s.full_name&&t.jsx("p",{className:"text-sm text-destructive",children:s.full_name}),e[31]=s.full_name,e[32]=N):N=e[32];let y;e[33]!==b||e[34]!==N?(y=t.jsxs("div",{className:"space-y-2",children:[Qe,b,N]}),e[33]=b,e[34]=N,e[35]=y):y=e[35];let S;e[36]!==j||e[37]!==y?(S=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[j,y]}),e[36]=j,e[37]=y,e[38]=S):S=e[38];let ze;e[39]===Symbol.for("react.memo_cache_sentinel")?(ze=t.jsx(o,{htmlFor:"class_name",children:"Lớp"}),e[39]=ze):ze=e[39];let C;e[40]!==a?(C=i=>a("class_name",i.target.value),e[40]=a,e[41]=C):C=e[41];const Ct=s.class_name?"true":"false";let T;e[42]!==l.class_name||e[43]!==C||e[44]!==Ct?(T=t.jsx(m,{id:"class_name",value:l.class_name,onChange:C,placeholder:"VD: 10A1","aria-invalid":Ct}),e[42]=l.class_name,e[43]=C,e[44]=Ct,e[45]=T):T=e[45];let D;e[46]!==s.class_name?(D=s.class_name&&t.jsx("p",{className:"text-sm text-destructive",children:s.class_name}),e[46]=s.class_name,e[47]=D):D=e[47];let w;e[48]!==T||e[49]!==D?(w=t.jsxs("div",{className:"space-y-2",children:[ze,T,D]}),e[48]=T,e[49]=D,e[50]=w):w=e[50];let Je;e[51]===Symbol.for("react.memo_cache_sentinel")?(Je=t.jsxs(o,{htmlFor:"birth_date",children:["Ngày sinh ",t.jsx("span",{className:"text-destructive",children:"*"})]}),e[51]=Je):Je=e[51];const $t=l.birth_date;let H;e[52]!==a?(H=i=>a("birth_date",i.target.value),e[52]=a,e[53]=H):H=e[53];let We;e[54]===Symbol.for("react.memo_cache_sentinel")?(We=new Date().toISOString().split("T"),e[54]=We):We=e[54];const Tt=s.birth_date?"true":"false";let A;e[55]!==l.birth_date||e[56]!==H||e[57]!==Tt?(A=t.jsx(m,{id:"birth_date",type:"date",value:$t,onChange:H,required:!0,max:We[0],"aria-invalid":Tt}),e[55]=l.birth_date,e[56]=H,e[57]=Tt,e[58]=A):A=e[58];let k;e[59]!==s.birth_date?(k=s.birth_date&&t.jsx("p",{className:"text-sm text-destructive",children:s.birth_date}),e[59]=s.birth_date,e[60]=k):k=e[60];let B;e[61]!==A||e[62]!==k?(B=t.jsxs("div",{className:"space-y-2",children:[Je,A,k]}),e[61]=A,e[62]=k,e[63]=B):B=e[63];let F;e[64]!==w||e[65]!==B?(F=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w,B]}),e[64]=w,e[65]=B,e[66]=F):F=e[66];let Xe;e[67]===Symbol.for("react.memo_cache_sentinel")?(Xe=t.jsx(o,{htmlFor:"gender",children:"Giới tính"}),e[67]=Xe):Xe=e[67];let V;e[68]!==a?(V=i=>a("gender",i),e[68]=a,e[69]=V):V=e[69];let Ye;e[70]===Symbol.for("react.memo_cache_sentinel")?(Ye=t.jsx(qt,{id:"gender",children:t.jsx(It,{placeholder:"Chọn giới tính"})}),e[70]=Ye):Ye=e[70];let Ze;e[71]===Symbol.for("react.memo_cache_sentinel")?(Ze=t.jsxs(Gt,{children:[t.jsx(ke,{value:"Nam",children:"Nam"}),t.jsx(ke,{value:"Nữ",children:"Nữ"}),t.jsx(ke,{value:"Khác",children:"Khác"})]}),e[71]=Ze):Ze=e[71];let L;e[72]!==l.gender||e[73]!==V?(L=t.jsxs(Lt,{value:l.gender,onValueChange:V,children:[Ye,Ze]}),e[72]=l.gender,e[73]=V,e[74]=L):L=e[74];let q;e[75]!==s.gender?(q=s.gender&&t.jsx("p",{className:"text-sm text-destructive",children:s.gender}),e[75]=s.gender,e[76]=q):q=e[76];let I;e[77]!==L||e[78]!==q?(I=t.jsxs("div",{className:"space-y-2",children:[Xe,L,q]}),e[77]=L,e[78]=q,e[79]=I):I=e[79];let et;e[80]===Symbol.for("react.memo_cache_sentinel")?(et=t.jsx(o,{htmlFor:"scenario_group",children:"Nhóm kịch bản"}),e[80]=et):et=e[80];let G;e[81]!==a?(G=i=>a("scenario_group",i),e[81]=a,e[82]=G):G=e[82];let tt;e[83]===Symbol.for("react.memo_cache_sentinel")?(tt=t.jsx(qt,{id:"scenario_group",children:t.jsx(It,{placeholder:"Chọn nhóm"})}),e[83]=tt):tt=e[83];let st;e[84]===Symbol.for("react.memo_cache_sentinel")?(st=t.jsxs(Gt,{children:[t.jsx(ke,{value:"A",children:"Nhóm A (≥16 tuổi, có biển số)"}),t.jsx(ke,{value:"B",children:"Nhóm B (<16 tuổi, có biển số)"}),t.jsx(ke,{value:"C",children:"Nhóm C (<16 tuổi, không biển số)"})]}),e[84]=st):st=e[84];let O;e[85]!==l.scenario_group||e[86]!==G?(O=t.jsxs(Lt,{value:l.scenario_group,onValueChange:G,children:[tt,st]}),e[85]=l.scenario_group,e[86]=G,e[87]=O):O=e[87];let $;e[88]!==s.scenario_group?($=s.scenario_group&&t.jsx("p",{className:"text-sm text-destructive",children:s.scenario_group}),e[88]=s.scenario_group,e[89]=$):$=e[89];let E;e[90]!==O||e[91]!==$?(E=t.jsxs("div",{className:"space-y-2",children:[et,O,$]}),e[90]=O,e[91]=$,e[92]=E):E=e[92];let K;e[93]!==I||e[94]!==E?(K=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[I,E]}),e[93]=I,e[94]=E,e[95]=K):K=e[95];let lt;e[96]===Symbol.for("react.memo_cache_sentinel")?(lt=t.jsx(o,{htmlFor:"contact_phone",children:"Số điện thoại"}),e[96]=lt):lt=e[96];let P;e[97]!==a?(P=i=>a("contact_phone",i.target.value),e[97]=a,e[98]=P):P=e[98];const Dt=s.contact_phone?"true":"false";let R;e[99]!==l.contact_phone||e[100]!==P||e[101]!==Dt?(R=t.jsx(m,{id:"contact_phone",value:l.contact_phone,onChange:P,placeholder:"VD: 0901234567","aria-invalid":Dt}),e[99]=l.contact_phone,e[100]=P,e[101]=Dt,e[102]=R):R=e[102];let U;e[103]!==s.contact_phone?(U=s.contact_phone&&t.jsx("p",{className:"text-sm text-destructive",children:s.contact_phone}),e[103]=s.contact_phone,e[104]=U):U=e[104];let M;e[105]!==R||e[106]!==U?(M=t.jsxs("div",{className:"space-y-2",children:[lt,R,U]}),e[105]=R,e[106]=U,e[107]=M):M=e[107];let at;e[108]===Symbol.for("react.memo_cache_sentinel")?(at=t.jsx(o,{htmlFor:"guardian_name",children:"Tên phụ huynh"}),e[108]=at):at=e[108];let Q;e[109]!==a?(Q=i=>a("guardian_name",i.target.value),e[109]=a,e[110]=Q):Q=e[110];const wt=s.guardian_name?"true":"false";let z;e[111]!==l.guardian_name||e[112]!==Q||e[113]!==wt?(z=t.jsx(m,{id:"guardian_name",value:l.guardian_name,onChange:Q,placeholder:"VD: Nguyễn Văn B","aria-invalid":wt}),e[111]=l.guardian_name,e[112]=Q,e[113]=wt,e[114]=z):z=e[114];let J;e[115]!==s.guardian_name?(J=s.guardian_name&&t.jsx("p",{className:"text-sm text-destructive",children:s.guardian_name}),e[115]=s.guardian_name,e[116]=J):J=e[116];let W;e[117]!==z||e[118]!==J?(W=t.jsxs("div",{className:"space-y-2",children:[at,z,J]}),e[117]=z,e[118]=J,e[119]=W):W=e[119];let X;e[120]!==M||e[121]!==W?(X=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[M,W]}),e[120]=M,e[121]=W,e[122]=X):X=e[122];let nt;e[123]===Symbol.for("react.memo_cache_sentinel")?(nt=t.jsx(o,{htmlFor:"guardian_phone",children:"Số điện thoại phụ huynh"}),e[123]=nt):nt=e[123];let Y;e[124]!==a?(Y=i=>a("guardian_phone",i.target.value),e[124]=a,e[125]=Y):Y=e[125];const Ht=s.guardian_phone?"true":"false";let Z;e[126]!==l.guardian_phone||e[127]!==Y||e[128]!==Ht?(Z=t.jsx(m,{id:"guardian_phone",value:l.guardian_phone,onChange:Y,placeholder:"VD: 0901234567","aria-invalid":Ht}),e[126]=l.guardian_phone,e[127]=Y,e[128]=Ht,e[129]=Z):Z=e[129];let ee;e[130]!==s.guardian_phone?(ee=s.guardian_phone&&t.jsx("p",{className:"text-sm text-destructive",children:s.guardian_phone}),e[130]=s.guardian_phone,e[131]=ee):ee=e[131];let te;e[132]!==Z||e[133]!==ee?(te=t.jsxs("div",{className:"space-y-2",children:[nt,Z,ee]}),e[132]=Z,e[133]=ee,e[134]=te):te=e[134];let it;e[135]===Symbol.for("react.memo_cache_sentinel")?(it=t.jsx(o,{htmlFor:"enrolled_at",children:"Ngày nhập học"}),e[135]=it):it=e[135];let se;e[136]!==a?(se=i=>a("enrolled_at",i.target.value),e[136]=a,e[137]=se):se=e[137];const At=s.enrolled_at?"true":"false";let le;e[138]!==l.enrolled_at||e[139]!==se||e[140]!==At?(le=t.jsx(m,{id:"enrolled_at",type:"date",value:l.enrolled_at,onChange:se,"aria-invalid":At}),e[138]=l.enrolled_at,e[139]=se,e[140]=At,e[141]=le):le=e[141];let ae;e[142]!==s.enrolled_at?(ae=s.enrolled_at&&t.jsx("p",{className:"text-sm text-destructive",children:s.enrolled_at}),e[142]=s.enrolled_at,e[143]=ae):ae=e[143];let ne;e[144]!==le||e[145]!==ae?(ne=t.jsxs("div",{className:"space-y-2",children:[it,le,ae]}),e[144]=le,e[145]=ae,e[146]=ne):ne=e[146];let rt;e[147]===Symbol.for("react.memo_cache_sentinel")?(rt=t.jsx(o,{htmlFor:"notes",children:"Ghi chú"}),e[147]=rt):rt=e[147];let ie;e[148]!==a?(ie=i=>a("notes",i.target.value),e[148]=a,e[149]=ie):ie=e[149];const kt=s.notes?"true":"false";let re;e[150]!==l.notes||e[151]!==ie||e[152]!==kt?(re=t.jsx(ts,{id:"notes",value:l.notes,onChange:ie,placeholder:"Ghi chú thêm về học sinh...",rows:3,"aria-invalid":kt}),e[150]=l.notes,e[151]=ie,e[152]=kt,e[153]=re):re=e[153];let ce;e[154]!==s.notes?(ce=s.notes&&t.jsx("p",{className:"text-sm text-destructive",children:s.notes}),e[154]=s.notes,e[155]=ce):ce=e[155];let oe;e[156]!==re||e[157]!==ce?(oe=t.jsxs("div",{className:"space-y-2",children:[rt,re,ce]}),e[156]=re,e[157]=ce,e[158]=oe):oe=e[158];let de;e[159]!==u?(de=()=>{vt(!1),u()},e[159]=u,e[160]=de):de=e[160];let he;e[161]!==x||e[162]!==de?(he=t.jsx(Ft,{type:"button",variant:"outline",onClick:de,disabled:x,children:"Hủy"}),e[161]=x,e[162]=de,e[163]=he):he=e[163];const Bt=x?"Đang thêm...":"Thêm học sinh";let me;e[164]!==x||e[165]!==Bt?(me=t.jsx(Ft,{type:"submit",disabled:x,children:Bt}),e[164]=x,e[165]=Bt,e[166]=me):me=e[166];let xe;e[167]!==he||e[168]!==me?(xe=t.jsxs(is,{children:[he,me]}),e[167]=he,e[168]=me,e[169]=xe):xe=e[169];let fe;e[170]!==Nt||e[171]!==S||e[172]!==F||e[173]!==K||e[174]!==X||e[175]!==te||e[176]!==ne||e[177]!==oe||e[178]!==xe?(fe=t.jsxs(rs,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[Ue,t.jsxs("form",{onSubmit:Nt,className:"space-y-4",children:[S,F,K,X,te,ne,oe,xe]})]}),e[170]=Nt,e[171]=S,e[172]=F,e[173]=K,e[174]=X,e[175]=te,e[176]=ne,e[177]=oe,e[178]=xe,e[179]=fe):fe=e[179];let ue;e[180]!==jt||e[181]!==fe?(ue=t.jsxs("div",{className:"flex items-center justify-between",children:[Pe,t.jsxs(cs,{open:jt,onOpenChange:vt,children:[Re,fe]})]}),e[180]=jt,e[181]=fe,e[182]=ue):ue=e[182];let ct;e[183]===Symbol.for("react.memo_cache_sentinel")?(ct=t.jsxs(Be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(Fe,{className:"text-sm font-medium",children:"Tổng học sinh"}),t.jsx(ds,{className:"h-4 w-4 text-muted-foreground"})]}),e[183]=ct):ct=e[183];let _e;e[184]!==r.total_students?(_e=t.jsx("div",{className:"text-2xl font-bold",children:r.total_students}),e[184]=r.total_students,e[185]=_e):_e=e[185];let ot;e[186]===Symbol.for("react.memo_cache_sentinel")?(ot=t.jsx("p",{className:"text-xs text-muted-foreground",children:"Theo dữ liệu seeder kịch bản 100 học sinh"}),e[186]=ot):ot=e[186];let pe;e[187]!==_e?(pe=t.jsxs(Ve,{children:[ct,t.jsxs(Le,{children:[_e,ot]})]}),e[187]=_e,e[188]=pe):pe=e[188];let dt;e[189]===Symbol.for("react.memo_cache_sentinel")?(dt=t.jsx(Fe,{className:"text-sm font-medium",children:"Lượt vi phạm"}),e[189]=dt):dt=e[189];let ge;e[190]!==r.total_violations?(ge=t.jsxs(Be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[dt,t.jsx(qe,{variant:"destructive",children:r.total_violations})]}),e[190]=r.total_violations,e[191]=ge):ge=e[191];let ht;e[192]===Symbol.for("react.memo_cache_sentinel")?(ht=t.jsxs(Le,{children:[t.jsx("div",{className:"text-2xl font-bold",children:"Nhóm B"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"28/30 lượt phát hiện đúng, 2 lượt bỏ sót"})]}),e[192]=ht):ht=e[192];let je;e[193]!==ge?(je=t.jsxs(Ve,{children:[ge,ht]}),e[193]=ge,e[194]=je):je=e[194];let mt;e[195]===Symbol.for("react.memo_cache_sentinel")?(mt=t.jsxs(Be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(Fe,{className:"text-sm font-medium",children:"Lượt hợp lệ"}),t.jsx(Mt,{className:"h-4 w-4 text-muted-foreground"})]}),e[195]=mt):mt=e[195];let ve;e[196]!==r.total_valid?(ve=t.jsx("div",{className:"text-2xl font-bold",children:r.total_valid}),e[196]=r.total_valid,e[197]=ve):ve=e[197];let xt;e[198]===Symbol.for("react.memo_cache_sentinel")?(xt=t.jsx("p",{className:"text-xs text-muted-foreground",children:"Bao gồm toàn bộ nhóm A và C cùng 2 lượt bỏ sót"}),e[198]=xt):xt=e[198];let be;e[199]!==ve?(be=t.jsxs(Ve,{children:[mt,t.jsxs(Le,{children:[ve,xt]})]}),e[199]=ve,e[200]=be):be=e[200];let ft;e[201]===Symbol.for("react.memo_cache_sentinel")?(ft=t.jsxs(Be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(Fe,{className:"text-sm font-medium",children:"Học sinh chưa đủ 16 tuổi"}),t.jsx(Qt,{className:"h-4 w-4 text-muted-foreground"})]}),e[201]=ft):ft=e[201];let Ne;e[202]!==r.underage_students?(Ne=t.jsx("div",{className:"text-2xl font-bold",children:r.underage_students}),e[202]=r.underage_students,e[203]=Ne):Ne=e[203];let ut;e[204]===Symbol.for("react.memo_cache_sentinel")?(ut=t.jsx("p",{className:"text-xs text-muted-foreground",children:"Nhóm B và C theo kịch bản kiểm thử"}),e[204]=ut):ut=e[204];let ye;e[205]!==Ne?(ye=t.jsxs(Ve,{children:[ft,t.jsxs(Le,{children:[Ne,ut]})]}),e[205]=Ne,e[206]=ye):ye=e[206];let Se;e[207]!==be||e[208]!==ye||e[209]!==pe||e[210]!==je?(Se=t.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[pe,je,be,ye]}),e[207]=be,e[208]=ye,e[209]=pe,e[210]=je,e[211]=Se):Se=e[211];let _t;e[212]===Symbol.for("react.memo_cache_sentinel")?(_t=t.jsxs(Be,{children:[t.jsx(Fe,{children:"Danh sách học sinh"}),t.jsx(Xt,{children:"Thông tin cơ bản, phân nhóm và kết quả gần nhất."})]}),e[212]=_t):_t=e[212];let pt;e[213]===Symbol.for("react.memo_cache_sentinel")?(pt=t.jsx(Yt,{children:t.jsxs(Vt,{children:[t.jsx(Ae,{children:"Học sinh"}),t.jsx(Ae,{children:"Lớp"}),t.jsx(Ae,{children:"Độ tuổi"}),t.jsx(Ae,{children:"Nhóm kịch bản"}),t.jsx(Ae,{children:"Thống kê"}),t.jsx(Ae,{children:"Lần quẹt gần nhất"})]})}),e[213]=pt):pt=e[213];let Ce;e[214]!==d?(Ce=d.map(fs),e[214]=d,e[215]=Ce):Ce=e[215];let Te;e[216]!==d.length?(Te=d.length===0&&t.jsx(Vt,{children:t.jsx(f,{colSpan:6,className:"py-10 text-center text-sm text-muted-foreground",children:"Chưa có dữ liệu học sinh. Hãy chạy seeder để khởi tạo dữ liệu kiểm thử."})}),e[216]=d.length,e[217]=Te):Te=e[217];let De;e[218]!==Ce||e[219]!==Te?(De=t.jsxs(Zt,{children:[pt,t.jsxs(es,{children:[Ce,Te]})]}),e[218]=Ce,e[219]=Te,e[220]=De):De=e[220];let we;e[221]!==d.length||e[222]!==Oe||e[223]!==h?.current_page||e[224]!==h?.last_page||e[225]!==h?.total?(we=Oe.length>0&&t.jsxs("div",{className:"mt-4 flex flex-wrap items-center justify-between gap-2 text-sm text-muted-foreground",children:[t.jsxs("div",{children:["Trang ",h?.current_page??1," / ",h?.last_page??1," • Tổng ",h?.total??d.length," học sinh"]}),t.jsx("div",{className:"flex items-center gap-2",children:Oe.map(xs)})]}),e[221]=d.length,e[222]=Oe,e[223]=h?.current_page,e[224]=h?.last_page,e[225]=h?.total,e[226]=we):we=e[226];let He;e[227]!==De||e[228]!==we?(He=t.jsxs(Ve,{children:[_t,t.jsxs(Le,{children:[De,we]})]}),e[227]=De,e[228]=we,e[229]=He):He=e[229];let gt;return e[230]!==Se||e[231]!==He||e[232]!==ue?(gt=t.jsxs(zt,{children:[Ke,t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[ue,Se,He]})]}),e[230]=Se,e[231]=He,e[232]=ue,e[233]=gt):gt=e[233],gt}function xs(n,e){return t.jsx("span",{children:n.url?t.jsx(Ut,{href:n.url,className:`rounded-md px-3 py-1 transition-colors ${n.active?"bg-primary text-primary-foreground shadow":"hover:bg-muted"}`,children:Ot(n.label)}):t.jsx("span",{className:"rounded-md px-3 py-1 opacity-50",children:Ot(n.label)})},`${n.label}-${e}`)}function fs(n){const e=n.scenario_group??"—",c=ms[e]??"Chưa được phân nhóm",r=n.full_name.split(/\s+/).filter(Boolean).slice(-2).map(us).join("")||"HS";return t.jsxs(Vt,{children:[t.jsx(f,{children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Jt,{className:"size-10",children:t.jsx(Wt,{children:r})}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("div",{className:"font-semibold leading-none",children:n.full_name}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Mã HS: ",n.student_code]}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Liên hệ: ",n.contact_phone??"—"," • Phụ huynh: ",n.guardian_phone??"—"]})]})]})}),t.jsx(f,{className:"whitespace-nowrap",children:n.class_name}),t.jsx(f,{children:n.age??"—"}),t.jsxs(f,{children:[t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx(qe,{variant:e==="B"?"destructive":"secondary",children:e}),t.jsx(qe,{variant:n.is_underage?"outline":"secondary",children:n.is_underage?"Chưa đủ 16 tuổi":"≥ 16 tuổi"})]}),t.jsx("div",{className:"mt-1 text-xs text-muted-foreground",children:c})]}),t.jsx(f,{children:t.jsxs("div",{className:"space-y-1 text-sm",children:[t.jsxs("div",{children:["Vi phạm: ",n.violations_count]}),t.jsxs("div",{children:["Hợp lệ: ",n.valid_count]})]})}),t.jsx(f,{children:t.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground",children:[t.jsx("div",{children:hs(n.last_activity_at)}),t.jsxs("div",{children:["Trạng thái:"," ",n.last_result==="violation"?t.jsx(qe,{variant:"destructive",className:"ml-1",children:"Vi phạm"}):n.last_result==="valid"?t.jsx(qe,{variant:"secondary",className:"ml-1",children:"Hợp lệ"}):t.jsx("span",{className:"ml-1",children:"—"})]})]})})]},n.id)}function us(n){return n.charAt(0).toUpperCase()}export{Bs as default};
