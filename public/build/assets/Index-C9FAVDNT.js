import{c as q,j as s,H as z,r as R}from"./app-BP-kkndS.js";import{T as M,A as G}from"./app-layout-CNhZyOBO.js";import{c as $,B}from"./app-logo-icon-Dv4I51CV.js";import{c as m,C as x,a as f,b as p,d as j}from"./card-hj9cbVLd.js";import{B as P}from"./badge-C_8t6gmw.js";import{C as J}from"./camera-4kbPb-BR.js";import{U as O}from"./users-BvVghMAW.js";/* empty css            */import"./index-BekxUu-N.js";import"./index-K6_uAD2S.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],Y=$("Filter",W);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ee=$("Plus",Z);function pe(l){const e=q.c(33),{students:u,total_students:V,total_active_cards:E,summary_period:F}=l;let g;e[0]!==u?(g=u===void 0?[]:u,e[0]=u,e[1]=g):g=e[1];const v=g,A=V===void 0?0:V,I=E===void 0?0:E,L=F===void 0?"7 ngày gần đây":F,U=ie,K=le,Q=te,X=se;let _;e[2]===Symbol.for("react.memo_cache_sentinel")?(_=s.jsx(z,{title:"Danh sách vi phạm"}),e[2]=_):_=e[2];let b;e[3]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx("h1",{className:"text-3xl font-bold",children:"Danh sách học sinh vi phạm"}),e[3]=b):b=e[3];let i;e[4]!==L?(i=s.jsxs("div",{children:[b,s.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:["Theo dõi các học sinh bị phát hiện điều khiển xe không phù hợp trong ",L,"."]})]}),e[4]=L,e[5]=i):i=e[5];let N;e[6]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsxs(B,{variant:"outline",className:"gap-2",children:[s.jsx(Y,{className:"w-4 h-4"}),"Bộ lọc nâng cao"]}),e[6]=N):N=e[6];let y;e[7]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsxs("div",{className:"flex flex-wrap gap-2",children:[N,s.jsxs(B,{onClick:U,className:"gap-2",children:[s.jsx(ee,{className:"w-4 h-4"}),"Thêm học sinh"]})]}),e[7]=y):y=e[7];let r;e[8]!==i?(r=s.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[i,y]}),e[8]=i,e[9]=r):r=e[9];let w;e[10]===Symbol.for("react.memo_cache_sentinel")?(w=s.jsxs(x,{children:[s.jsx(f,{children:"Học sinh được giám sát"}),s.jsx(p,{children:"Tổng hồ sơ đã kích hoạt."})]}),e[10]=w):w=e[10];let a;e[11]!==A?(a=s.jsx("div",{className:"text-3xl font-bold",children:A}),e[11]=A,e[12]=a):a=e[12];let C;e[13]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx(O,{className:"h-8 w-8 text-primary"}),e[13]=C):C=e[13];let c;e[14]!==a?(c=s.jsxs(m,{children:[w,s.jsxs(j,{className:"flex items-center justify-between",children:[a,C]})]}),e[14]=a,e[15]=c):c=e[15];let k;e[16]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsxs(x,{children:[s.jsx(f,{children:"Thẻ đang hoạt động"}),s.jsx(p,{children:"Số thẻ RFID/QR hợp lệ."})]}),e[16]=k):k=e[16];let n;e[17]!==I?(n=s.jsx("div",{className:"text-3xl font-bold",children:I}),e[17]=I,e[18]=n):n=e[18];let S;e[19]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsx(P,{variant:"secondary",children:"Đang theo dõi"}),e[19]=S):S=e[19];let o;e[20]!==n?(o=s.jsxs(m,{children:[k,s.jsxs(j,{className:"flex items-center justify-between",children:[n,S]})]}),e[20]=n,e[21]=o):o=e[21];let T;e[22]===Symbol.for("react.memo_cache_sentinel")?(T=s.jsxs(x,{children:[s.jsx(f,{children:"Vi phạm được ghi nhận"}),s.jsx(p,{children:"Hiển thị các vi phạm đã phân loại."})]}),e[22]=T):T=e[22];let D;e[23]===Symbol.for("react.memo_cache_sentinel")?(D=s.jsxs(m,{className:"border-destructive/20",children:[T,s.jsxs(j,{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[s.jsx(M,{className:"h-6 w-6 text-destructive"}),"Dữ liệu vi phạm sẽ được đồng bộ với báo cáo tuần và gửi cảnh báo nếu cần."]})]}),e[23]=D):D=e[23];let d;e[24]!==c||e[25]!==o?(d=s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[c,o,D]}),e[24]=c,e[25]=o,e[26]=d):d=e[26];let h;e[27]!==v?(h=v.length===0?s.jsxs(m,{children:[s.jsxs(x,{children:[s.jsx(f,{children:"Chưa có học sinh vi phạm"}),s.jsx(p,{children:"Hệ thống sẽ hiển thị các hồ sơ vi phạm ngay khi camera phát hiện bất thường."})]}),s.jsx(j,{children:s.jsx("div",{className:"rounded-xl border border-dashed border-sidebar-border/60 p-8 text-center",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Vui lòng kiểm tra kết nối camera, đầu đọc thẻ và cấu hình AI."})})})]}):s.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:v.map(t=>s.jsxs(m,{className:"group flex flex-col overflow-hidden border border-border/60 shadow-sm transition hover:border-primary/60 hover:shadow-lg",children:[s.jsxs("div",{className:"relative h-48 w-full overflow-hidden bg-muted/30",children:[t.latest_image_url?s.jsx("img",{src:t.latest_image_url,alt:`Ảnh vi phạm gần nhất của ${t.full_name}`,className:"h-full w-full object-cover transition duration-500 group-hover:scale-105"}):s.jsx("div",{className:"flex h-full items-center justify-center text-muted-foreground",children:s.jsx(J,{className:"h-10 w-10"})}),s.jsxs(P,{className:"absolute left-3 top-3 flex items-center gap-1",variant:"destructive",children:[s.jsx(M,{className:"h-4 w-4"}),t.total_violations," lượt"]})]}),s.jsxs(x,{className:"flex flex-col gap-2",children:[s.jsxs(f,{className:"text-xl",children:[t.full_name,s.jsxs("span",{className:"ml-2 text-sm font-normal text-muted-foreground",children:["(",t.class_name,")"]})]}),s.jsxs(p,{children:["Mã HS: ",t.student_code," • Tuổi: ",t.age??"—"]})]}),s.jsxs(j,{className:"flex flex-1 flex-col gap-3 text-sm text-muted-foreground",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:"Lần vi phạm gần nhất"}),s.jsx("p",{children:X(t.latest_violation_at)})]}),s.jsx("div",{children:t.latest_violation_reason?s.jsx("p",{className:"rounded-lg bg-destructive/10 p-3 text-destructive",children:t.latest_violation_reason}):s.jsx("p",{className:"rounded-lg border border-dashed border-border/60 p-3",children:"Chưa có mô tả chi tiết."})}),s.jsx("div",{className:"rounded-lg border border-border/60 bg-muted/30 p-3",children:t.has_license_plate?s.jsxs("p",{children:["Biển số: ",t.license_plate_number??"Không xác định"]}):s.jsx("p",{children:"Phương tiện không có biển số"})}),s.jsxs("div",{className:"mt-auto flex gap-2 pt-4",children:[s.jsx(B,{variant:"outline",onClick:()=>K(t.id),className:"flex-1",children:"Xem chi tiết"}),s.jsx(B,{variant:"outline",onClick:()=>Q(t.id),className:"flex-1",children:"Cập nhật"})]})]})]},t.id))}),e[27]=v,e[28]=h):h=e[28];let H;return e[29]!==r||e[30]!==d||e[31]!==h?(H=s.jsxs(G,{children:[_,s.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[r,d,h]})]}),e[29]=r,e[30]=d,e[31]=h,e[32]=H):H=e[32],H}function se(l){return l?new Date(l).toLocaleString("vi-VN"):"Chưa có dữ liệu"}function te(l){R.visit(route("students.edit",l))}function le(l){R.visit(route("students.show",l))}function ie(){R.visit(route("students.create"))}export{pe as default};
